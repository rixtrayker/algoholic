# Algoholic Configuration File
# Override these values with environment variables prefixed with ALGOHOLIC_
# Example: ALGOHOLIC_SERVER_PORT=5000

app:
  name: "Algoholic API"
  version: "1.0.0"
  environment: "development"  # development, staging, production
  debug: true

server:
  host: "0.0.0.0"
  port: 4000
  read_timeout: 30      # seconds
  write_timeout: 30     # seconds
  shutdown_timeout: 10  # seconds
  cors:
    allow_origins:
      - "*"
    allow_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
      - "PATCH"
    allow_headers:
      - "*"
    allow_credentials: false
    max_age: 3600

database:
  host: "localhost"
  port: 5432
  user: "leetcode"
  password: "leetcode123"
  database: "leetcode_training"
  sslmode: "disable"
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 30  # minutes
  log_level: "warn"       # silent, error, warn, info
  auto_migrate: true      # WARNING: only enable in development

redis:
  enabled: false
  host: "localhost"
  port: 6379
  password: ""
  db: 0
  ttl: 3600  # seconds

chromadb:
  url: "http://localhost:8000"
  timeout: 30  # seconds
  batch_size: 100
  collection:
    problems: "problems"
    questions: "questions"
    solutions: "solutions"
    templates: "templates"
    embeddings: "embeddings"

ollama:
  url: "http://localhost:11434"
  timeout: 120  # seconds
  assessment_model: "mistral:7b"
  generation_model: "codellama:13b"
  embedding_model: "all-minilm"
  temperature: 0.7
  assessment_temp: 0.3   # lower for consistency
  generation_temp: 0.8    # higher for creativity
  max_tokens: 2048
  context_window: 4096

rag:
  enabled: true
  top_k: 5
  min_similarity: 0.7
  max_context_length: 4000
  retrieval_strategy: "semantic"  # semantic, hybrid, keyword
  reranking_enabled: false

auth:
  enabled: true
  jwt_secret: "change-me-in-production"
  jwt_expiry: 24        # hours
  refresh_expiry: 168   # hours (7 days)
  bcrypt_cost: 10
  session_duration: 24  # hours

logging:
  level: "info"          # debug, info, warn, error
  format: "json"         # json, text
  output: "stdout"       # stdout, file
  file_path: "logs/app.log"
  max_size: 100          # megabytes
  max_backups: 5
  max_age: 30            # days
  compress: true
